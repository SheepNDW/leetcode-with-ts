## 476. Number Complement

給定一個正整數 num，找出該數字的二進位補數。也就是將該數字的二進位表示中的每一位元進行取反（flip）

例如：5 的二進位表示是 101，其補數是 010，即十進位的 2

那麼要怎麼去計算呢？

如果我們直接取反：`~num` 會得到不必要的高位 1

```
num    ...000101 = 5
~num   ...111010
```

因此我們需要找到一個 mask 來濾掉高位的 1

```
~num   ...111010
mask   ...111000
~num ^ mask ...000010 = 2
```

那麼這個 mask 需要根據 num 的最高位 1 來決定，可以透過以下方式來計算：

先準備一個全部都是 1 的 mask，然後左移直到 mask 和 num 作 AND 運算的結果為 0

```
mask = ...111111 = ~0

num:        ...000101 = 5
mask:       ...111111
num & mask: ...000101

mask <<= 1

mask:       ...111110
num & mask: ...000100

mask:       ...111100
num & mask: ...000100

mask:       ...111000
num & mask: ...000000
```

這樣就可以得到一個從 num 最高位到最低位都是 0 的 mask 了。

這題還有另外一種解法，就是將 mask 設為與 num 位元長度相同的全 1 數字，然後將 num 與 mask 作 XOR 運算即可。

```
num:                                ...000101 = 5
mask = (1 << num.bit_length()) - 1: ...000111
num ^ mask:                         ...000010 = 2
```
